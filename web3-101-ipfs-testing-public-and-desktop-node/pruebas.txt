en /etc/appserver/certbot/conf/
    crear cloudflare.ini
        Fz92B8MSu4HfWwcNZqWrgsFo-QUCaA7UxTCC2Mjw

sudo touch /etc/appserver/certbot/conf/cloudflare.ini
```plaintest
dns_cloudflare_api_token = Fz92B8MSu4HfWwcNZqWrgsFo-QUCaA7UxTCC2Mjw
```


chown docker-reverse-proxy:docker-reverse-proxy /etc/appserver/certbot/conf/cloudflare.ini


certbot:
    image: certbot/certbot:latest
    user: "1015:1018"
    entrypoint: /bin/sh -c "
    while :; do 
      certbot renew --quiet --webroot -w /var/www/certbot \
      --dns-cloudflare --dns-cloudflare-credentials /etc/letsencrypt/cloudflare.ini;
      sleep 12h; 
    done"
    volumes:
      - /etc/appserver/certbot/www:/var/www/certbot/:rw
      - /etc/appserver/certbot/conf/:/etc/letsencrypt/:rw
      - /etc/appserver/certbot/letsencrypt-lib/:/var/lib/letsencrypt/:rw
      - /var/log/certbot:/var/log/letsencrypt:rw
    restart: unless-stopped
  
prueba 
docker-compose -f /etc/appserver/docker/docker-compose.yml exec certbot certbot renew --dry-run

DNS-01 Challenge.

docker-compose -f /etc/appserver/docker/docker-compose.yml exec certbot certbot certonly --dns-cloudflare --dns-cloudflare-credentials /cloudflare.ini --dns-cloudflare-propagation-seconds 30 -d "ipfs.web3-101.open3diy.org" -d "*.ipfs.web3-101.open3diy.org" --email demovoidgan@gmail.com --agree-tos --non-interactive --force-renewal --debug

    server {
        listen 443 ssl;
        server_name ipfs.open3diy.org;
    
        ssl_certificate /etc/letsencrypt/live/ipfs.open3diy.org/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/ipfs.open3diy.org/privkey.pem;
    }
    
  
    docker-compose -f /etc/appserver/docker/docker-compose.yml exec certbot certbot renew --force-renewal
    docker-compose restart nginx
    